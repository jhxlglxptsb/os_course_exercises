# lec6 SPOC思考题


NOTICE
- 有"w3l2"标记的题是助教要提交到学堂在线上的。
- 有"w3l2"和"spoc"标记的题是要求拿清华学分的同学要在实体课上完成，并按时提交到学生对应的git repo上。
- 有"hard"标记的题有一定难度，鼓励实现。
- 有"easy"标记的题很容易实现，鼓励实现。
- 有"midd"标记的题是一般水平，鼓励实现。

## 与视频相关思考题

### 6.1	非连续内存分配的需求背景
 1. 为什么要设计非连续内存分配机制？
 - 分配给程序的物理内存必须连续
 - 存在外碎片和内碎片
 - 内存分配动态修改困难
 - 内存利用率较低

 1. 非连续内存分配中内存分块大小有哪些可能的选择？大小与大小是否可变?
 - 可选择段式存储管理分配较大的内存块，或选择页式存储管理分配较小的内存块
 - 可变

 1. 为什么在大块时要设计大小可变，而在小块时要设计成固定大小？小块时的固定大小可以提供多种选择吗？
 - 大小可变会更灵活，但固定大小更便于管理
 - 可以

### 6.2	段式存储管理
 1. 什么是段、段基址和段内偏移？
 - 段表示访问方式和存储数据等属性相同的一段地址空间
 - 段基址是段的起始地址
 - 段内偏移是段中数据地址到段基址的距离


 1. 段式存储管理机制的地址转换流程是什么？为什么在段式存储管理中，各段的存储位置可以不连续？这种做法有什么好处和麻烦？
 - 地址转换是段基址加上段内偏移
 - 因为段是逻辑地址空间，有段基址存储了每段不连续的地址的起始位置
 - 好处是可以不连续，便于内存管理，麻烦在于地址转换，还需要额外的段基址寄存器

### 6.3	页式存储管理
 1. 什么是页（page）、帧（frame）、页表（page table）、存储管理单元（MMU）、快表（TLB, Translation Lookaside Buffer）和高速缓存（cache）？
 - 页是把逻辑地址空间也划分为相同大小的基本分配单位
 - 帧是把物理地址空间划分为大小相同的基本分配单位
 - 页表是保存逻辑地址到物理地址之间的映射关系的表，即是存储了页与帧之间的映射
 - 存储管理单元负责虚拟地址和物理地址之间的转换
 - 快表
 
 1. 页式存储管理机制的地址转换流程是什么？为什么在页式存储管理中，各页的存储位置可以不连续？这种做法有什么好处和麻烦？


### 6.4	页表概述
 1. 每个页表项有些什么内容？有哪些标志位？它们起什么作用？
 1. 页表大小受哪些因素影响？


### 6.5	快表和多级页表
 1. 快表（TLB）与高速缓存（cache）有什么不同？
 1. 为什么快表中查找物理地址的速度非常快？它是如何实现的？为什么它的的容量很小？
 1. 什么是多级页表？多级页表中的地址转换流程是什么？多级页表有什么好处和麻烦？


### 6.6	反置页表
 1. 页寄存器机制的地址转换流程是什么？
 1. 反置页表机制的地址转换流程是什么？
 1. 反置页表项有些什么内容？

### 6.7	段页式存储管理
 1. 段页式存储管理机制的地址转换流程是什么？这种做法有什么好处和麻烦？
 1. 如何实现基于段式存储管理的内存共享？
 1. 如何实现基于页式存储管理的内存共享？
